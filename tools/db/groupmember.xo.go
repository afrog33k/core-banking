// Package db contains generated code from xo.
package db

// Code generated by xo. DO NOT EDIT.

import (
	"context"

	"bnk.to/core/api/v1/groups"
)

// GroupMember represents a row from 'group_members'.
type GroupMember struct {
	ID       int32  `json:"id"`        // id
	ClientID string `json:"client_id"` // client_id
	// xo fields
	Exists, Deleted bool
}

func NewGroupMember(pb *groups.Member) (GroupMember, error) {
	if pb == nil {
		return GroupMember{}, ErrNilType{"GroupMember"}
	}
	gm := GroupMember{
		ClientID: pb.ClientID,
	}
	return gm, nil
}

func (gm GroupMember) PB() (*groups.Member, error) {
	pb := &groups.Member{
		ClientID: gm.ClientID,
	}
	return pb, nil
}

type GroupMemberRepository interface {
	InsertGroupMember(context.Context, *GroupMember) error
	ListGroupMembers(context.Context, string, int32, string, *ListPosition) (ListStat, []*GroupMember, *ListPosition, error)

	// From group_members_pkey
	GroupMemberByID(context.Context, int32) (*GroupMember, error)

	UpdateGroupMemberByID(context.Context, *GroupMember) error
	DeleteGroupMemberByID(context.Context, int32) error
}
